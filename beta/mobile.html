
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thorax: Mobile Plugin</title>
    
    <link rel="stylesheet" type="text/css" href="screen.css">
    
    

    

    <!-- Typekit -->
    
      <script type="text/javascript">
        (function() {
          var config = {
            kitId: 'hjp0pft',
            scriptTimeout: 3000
          };
          var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/( |^)wf-loading( |$)/g,"");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script");tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(a&&a!="complete"&&a!="loaded")return;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
        })();
      </script>
    
  </head>
  <body><div id="container">
  <div id="nav">
    
      <div id="header">
        <a href="index.html" id="logo">Thorax<span>Mobile Plugin</span></a>
      </div>
    
    <ul id="sections">
      
        <li>
          <a href="#fast-click">Fast Click</a>
          
            <ul>
              
                <li>
                  <a href="#fast-click/configurefastclick-thorax-configurefastclick-usefastclick">configureFastClick </a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#tap-highlights">Tap Highlights</a>
          
            <ul>
              
                <li>
                  <a href="#tap-highlights/data-tappable-data-tappable-true">data-tappable </a>
                </li>
              
                <li>
                  <a href="#tap-highlights/configuretaphighlight-thorax-configuretaphighlight-usetaphighlight">configureTapHighlight </a>
                </li>
              
                <li>
                  <a href="#tap-highlights/_taphighlightclassname-view-_taphighlightclassname">_tapHighlightClassName </a>
                </li>
              
                <li>
                  <a href="#tap-highlights/_taphighlightstart-view-_taphighlightstart-event">_tapHighlightStart </a>
                </li>
              
                <li>
                  <a href="#tap-highlights/_taphighlightend-view-_taphighlightend-event">_tapHighlightEnd </a>
                </li>
              
                <li>
                  <a href="#tap-highlights/tapholdandend-view-el-tapholdandend-selector-callbackstart-callbackend">tapHoldAndEnd </a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#scrolling">Scrolling</a>
          
            <ul>
              
                <li>
                  <a href="#scrolling/scrollto-thorax-util-scrollto-x-y">scrollTo </a>
                </li>
              
                <li>
                  <a href="#scrolling/scrolltotop-thorax-util-scrolltotop">scrollToTop </a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#auto-form-hiding">Auto Form Hiding</a>
          
        </li>
      
    </ul><div class="header"><a href="#">Plugins</a></div><ul class="sections"><li><a href="collection.html">Collection</a></li><li><a href="event.html">Event</a></li><li><a href="form.html">Form</a></li><li><a href="helpers.html">Helpers</a></li><li><a href="loading.html">Loading</a></li><li><a href="mobile.html">Mobile</a></li><li><a href="model.html">Model</a></li><li><a href="view-controller.html">ViewController</a></li></ul>
    
    
  </div>
  <div id="content">
    
    <h1>Thorax Mobile Plugin</h1>
<p>The Thorax mobile plugin deals stricly with behavioral fixes for mobile web applications that make sense to implement in the View layer rather than directly in Zepto. In addition to this plugin the <a href="https://github.com/walmartlabs/thorax-boilerplate">mobile boilerplate project</a> is provided which is a starter <a href="http://walmartlabs.github.com/lumbar">Lumbar</a> project that includes this plugin and is set up to build for mobile environments.

</p>
<h2 id="fast-click">Fast Click</h2>
<p>Mobile WebKit will delay <code>click</code> events by 300ms. The mobile plugin will transparently re-write this event as a custom <code>fast-click</code> event which is not delayed in the following cases:

</p>
<pre><code><span class="comment">//passing a dom event to "on" </span>
view.on(<span class="string">'click selector'</span>, <span class="keyword">function</span>(){});

<span class="comment">//using the events hash</span>
Thorax.View.extend({
  events: {
    <span class="string">'click selector'</span>: <span class="keyword">function</span>(){}
  }
});

<span class="comment">//using the button or link helpers</span>
{{#button <span class="string">"methodName"</span>}}A Button{{<span class="regexp">/button}}
{{#link "url"}}A Link{{/</span>link}}</code></pre>
<p>This behavior can be disabled by calling <code>Thorax.configureFastClick(false)</code>. If you need to mix and match fast and slow clicks, fall back to Zepto directly:

</p>
<pre><code>//fast-click <span class="keyword">is</span> implemented <span class="keyword">in</span> the View <span class="keyword">class</span>
//layer <span class="keyword">and</span> <span class="keyword">not</span> directly <span class="literal">on</span> Zepto
$(<span class="string">'selector'</span>).<span class="literal">on</span>(<span class="string">'click'</span>, <span class="reserved">function</span>() {})</code></pre>
<h3 id="fast-click/configurefastclick-thorax-configurefastclick-usefastclick" class="signature">configureFastClick <em>Thorax.configureFastClick(useFastClick)</em></h3>
<p>Sets the boolean <code>useFastClick</code> for wether or not to use the fast click implementation provided by thorax. Defaults to true.

</p>
<h2 id="tap-highlights">Tap Highlights</h2>
<p>Tap higlights are inconsitently or incorrectly implemented on iOS and Android. The mobile plugin normalizes the behavior and provides a reliable <code>active</code> class name which can be used. Some additonal <code>-webkit-tap-highlight-color</code> CSS styles may be needed to normalize tap highlight behavior and examples are provided in the <a href="https://github.com/walmartlabs/thorax-boilerplate">mobile boilerplate project</a>.

</p>
<p>The following selector is used to apply tap highlight behaviors to elements inside <code>Thorax.View</code> instances:

</p>
<pre><code>[<span class="typedef"><span class="keyword">data</span>-tappable=true], a, input, button, select, textarea</span></code></pre>
<h3 id="tap-highlights/data-tappable-data-tappable-true" class="signature">data-tappable <em>data-tappable="true"</em></h3>
<p>Add this attribute to any HTML tag to apply tap highlight behaviors to it.

</p>
<h3 id="tap-highlights/configuretaphighlight-thorax-configuretaphighlight-usetaphighlight" class="signature">configureTapHighlight <em>Thorax.configureTapHighlight(useTapHighlight)</em></h3>
<p>Set the boolean <code>useNative</code> for wether or not to use the built in (native) tap highlights in the device. Defaults to true.

</p>
<h3 id="tap-highlights/_taphighlightclassname-view-_taphighlightclassname" class="signature">_tapHighlightClassName <em>view._tapHighlightClassName</em></h3>
<p>Class name to use when a tap highlight is active. Defaults to <code>active</code>.

</p>
<h3 id="tap-highlights/_taphighlightstart-view-_taphighlightstart-event" class="signature">_tapHighlightStart <em>view._tapHighlightStart(event)</em></h3>
<p>A built in handler that will be called when a tap highlight starts. Override this to implement custom behaviors, by default it will add the <code>_tapHighlightClassName</code>.

</p>
<h3 id="tap-highlights/_taphighlightend-view-_taphighlightend-event" class="signature">_tapHighlightEnd <em>view._tapHighlightEnd(event)</em></h3>
<p>A built in handler that will be called when a tap highlight ends. Override this to implement custom behaviors, by default it will remove the <code>_tapHighlightClassName</code>.

</p>
<h3 id="tap-highlights/tapholdandend-view-el-tapholdandend-selector-callbackstart-callbackend" class="signature">tapHoldAndEnd <em>view.$el.tapHoldAndEnd(selector, callbackStart, callbackEnd)</em></h3>
<p>This function adds the tap and hold event to the given elements. The registered handlers are activated by the user pressing and holding a position for 150 msec. This function is used by the tap highlight implementation.

</p>
<p><code>callbackStart</code> is called after the 150 msec delay between when the user first touched the screen and before they moved their position or let go.

</p>
<p><code>callbackEnd</code> is called after the user moves from their initial tapped position or lets go of the screen. Note that this function is not called unless the <code>callbackStart</code> is called first.

</p>
<pre><code>view.$el<span class="preprocessor">.tapHoldAndEnd</span>(<span class="string">'a'</span>, function(){}, function(){})<span class="comment">;</span></code></pre>
<h2 id="scrolling">Scrolling</h2>
<p>These utility methods normalize two bugs present in mobile environments:

</p>
<ul>
<li>iOS: needs <code>window.scrollTo</code> to be deferred in some circumstances</li>
<li>Android: needs the minimum scroll <code>y</code> to be 1 in order to scroll to the top</li>
</ul>
<h3 id="scrolling/scrollto-thorax-util-scrollto-x-y" class="signature">scrollTo <em>Thorax.Util.scrollTo(x, y)</em></h3>
<h3 id="scrolling/scrolltotop-thorax-util-scrolltotop" class="signature">scrollToTop <em>Thorax.Util.scrollToTop()</em></h3>
<h2 id="auto-form-hiding">Auto Form Hiding</h2>
<p>Some Android devices exhibit a "stuck" keyboard after a form has been submitted. Thorax will ensure that after any form <code>submit</code> event that any virtual keyboards will be hidden.
</p>

  <p>Copyright 2012 <a href="http://walmartlabs.com">@WalmartLabs</a></p></div>
</div><a href="https://github.com/walmartlabs/thorax"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a></body>
</html>